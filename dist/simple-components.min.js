function SimpleComps(e){this.render=t=>{const c=document.getElementsByTagName(t),s=new l;return fetch(e+t+".html").then(t=>t.text()).then(t=>{var l=t;for(let e=0;e<c.length;e++){if(null==l)return s.resolve(),s;let t=l;const r=document.createElement("div"),n=document.createElement("script");if((t=a(t,c.item(e))).includes("script")){const i=t.match(/\<script(.*?)>(.+)\<\/script>/gs)[0];n.innerHTML=i.replace(/(<script(.*?)>|<\/script>)/gs,""),t=t.replace(/\<script(.*?)>(.+)\<\/script>/gs,"");try{n.type=i.match(/type="(.*?)"/gs)[0].replace(/type="|"/gs,"")}catch{}}r.innerHTML=t,h(r),c.item(e).appendChild(r),null!=n&&r.appendChild(n),e==c.length-1&&s.resolve()}}),s},this.create=(t,l=1,r=document.body,n=null)=>{for(let e=0;e<l;e++){const i=document.createElement(t);if(r.appendChild(i),null!=n)try{for(let t=0;t<n.l[e].attrs.length;t++)i.setAttribute(n.l[e].attrs[t].split("|")[0],n.l[e].attrs[t].split("|")[1])}catch(t){}}};const a=(e,l)=>{const r=e.match(/\{(.+?)\}/g);if(void 0===r||null==r)return e;for(let t=0;t<r.length;t++){var n=r[t].replace(/[\{\}]+/g,"");null==l.getAttribute(n)?console.warn("SKIPPING "+n):e=e.replace(r[t],l.getAttribute(n))}return e},h=l=>{for(let e=0;e<l.children.length;e++)try{for(let t=0;t<l.children.item(e).attributes.length;t++)("false"==l.children.item(e).attributes[t].value||"null"==l.children.item(e).attributes[t].value&&"data-if"==l.children.item(e).attributes[t].name)&&l.removeChild(l.children.item(e));0<l.children.item(e).children.length&&h(l.children.item(e))}catch(t){}};function l(){this.resolved=!1,this.callbacks=[]}l.prototype={then:function(t){this.resolved?t():this.callbacks.push(t)},resolve:function(){this.resolved=!0,this.callbacks.forEach(function(t){t()})}}}export{SimpleComps};